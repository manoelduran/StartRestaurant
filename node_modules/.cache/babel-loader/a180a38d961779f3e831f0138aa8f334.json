{"ast":null,"code":"var _jsxFileName = \"/home/manoel/Codigos/treinamento/aulas/04/Startinha/src/hooks/UseDishes.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useState, useEffect, useContext } from 'react';\nimport { api } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FoodContext = /*#__PURE__*/createContext({});\nexport function FoodProvider({\n  children\n}) {\n  _s();\n\n  const [foods, setFoods] = useState([]);\n  useEffect(() => {\n    api.get('foods').then(response => setFoods(response.data.foods));\n  }, []);\n\n  async function createDishes(foodInput) {\n    const response = await api.post('/foods', { ...foodInput\n    });\n    const {\n      food\n    } = response.data;\n    setFoods([...foods, food]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(FoodContext.Provider, {\n    value: {\n      foods,\n      createDishes\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FoodProvider, \"YMM5M0iTqzJSbBHkFT1Cq0yNesc=\");\n\n_c = FoodProvider;\nexport function useDishes() {\n  _s2();\n\n  const context = useContext(FoodContext);\n  return context;\n}\n\n_s2(useDishes, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodProvider\");","map":{"version":3,"sources":["/home/manoel/Codigos/treinamento/aulas/04/Startinha/src/hooks/UseDishes.tsx"],"names":["createContext","useState","useEffect","useContext","api","FoodContext","FoodProvider","children","foods","setFoods","get","then","response","data","createDishes","foodInput","post","food","useDishes","context"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,SAAlC,EAAwDC,UAAxD,QAA0E,OAA1E;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAqBE,MAAMC,WAAW,gBAAGL,aAAa,CAAmB,EAAnB,CAAjC;AAEF,OAAO,SAASM,YAAT,CAAsB;AAACC,EAAAA;AAAD,CAAtB,EAAoD;AAAA;;AACzD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAU,EAAV,CAAlC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBC,IAAjB,CAAsBC,QAAQ,IAAIH,QAAQ,CAACG,QAAQ,CAACC,IAAT,CAAcL,KAAf,CAA1C;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,iBAAeM,YAAf,CAA4BC,SAA5B,EAAkD;AAClD,UAAMH,QAAQ,GAAG,MAAMR,GAAG,CAACY,IAAJ,CAAS,QAAT,EAAmB,EAAC,GAAGD;AAAJ,KAAnB,CAAvB;AACA,UAAM;AAAEE,MAAAA;AAAF,QAAUL,QAAQ,CAACC,IAAzB;AACAJ,IAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWS,IAAX,CAAD,CAAR;AACD;;AACC,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACT,MAAAA,KAAD;AAAQM,MAAAA;AAAR,KAA7B;AAAA,cACGP;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAhBeD,Y;;KAAAA,Y;AAkBhB,OAAO,SAASY,SAAT,GAAoB;AAAA;;AACzB,QAAMC,OAAO,GAAGhB,UAAU,CAACE,WAAD,CAA1B;AACA,SAAOc,OAAP;AACD;;IAHeD,S","sourcesContent":["import { createContext, useState, useEffect, ReactNode, useContext } from 'react';\nimport { api } from '../services/api';\n\ninterface IFood {\n  id: number;\n  name: string;\n  description: string;\n  price: number;\n  image: string;\n}\n\ntype FoodInput = Omit<IFood, 'id'>;\n\ninterface FoodProviderProps {\n  children: ReactNode;\n}\n\ninterface FoodContextData {\n  foods: IFood[];\n  createDishes: (food: FoodInput ) => Promise<void>;\n}\n\n  const FoodContext = createContext<FoodContextData >({} as FoodContextData);\n\nexport function FoodProvider({children}: FoodProviderProps){\n  const [foods, setFoods] = useState<IFood[]>([]);\n  useEffect(() => {\n    api.get('foods').then(response => setFoods(response.data.foods))\n  }, []);\n\n  async function createDishes(foodInput: FoodInput ){\n  const response = await api.post('/foods', {...foodInput})\n  const { food} = response.data;\n  setFoods([...foods, food]);\n}\n  return (\n    <FoodContext.Provider value={{foods, createDishes}}>\n      {children}\n    </FoodContext.Provider>\n  );\n}\n\nexport function useDishes(){\n  const context = useContext(FoodContext);\n  return context;\n}"]},"metadata":{},"sourceType":"module"}